# 內容管理模組 (Content Management System)

## 模組概述
內容管理系統為美妝電商提供全方位的內容管理功能，包含文章管理、頁面建構、媒體管理、SEO優化、多語言支援等核心功能。

## 核心功能架構

### 1. 文章管理系統
#### 1.1 文章類型管理
```typescript
enum ArticleType {
  BLOG_POST = 'blog_post',           // 部落格文章
  NEWS = 'news',                     // 新聞公告
  TUTORIAL = 'tutorial',             // 美妝教學
  PRODUCT_REVIEW = 'product_review', // 產品評測
  BRAND_STORY = 'brand_story',       // 品牌故事
  INGREDIENT_INFO = 'ingredient_info', // 成分介紹
  SKIN_CARE_GUIDE = 'skincare_guide', // 保養指南
  MAKEUP_TIPS = 'makeup_tips',       // 彩妝技巧
  EVENT_ANNOUNCEMENT = 'event',       // 活動公告
  FAQ = 'faq',                       // 常見問題
  POLICY = 'policy',                 // 政策條款
  CUSTOM_PAGE = 'custom_page'        // 自定義頁面
}

interface Article {
  id: number;
  title: string;
  slug: string;                      // URL友好的標識符
  content: string;                   // 富文本內容
  excerpt: string;                   // 摘要
  type: ArticleType;
  status: ArticleStatus;
  featured_image?: string;           // 特色圖片
  gallery_images?: string[];         // 圖片集
  author_id: number;
  category_id?: number;
  tags: string[];
  seo_title?: string;
  seo_description?: string;
  seo_keywords?: string[];
  published_at?: Date;
  scheduled_at?: Date;               // 定時發布
  view_count: number;
  like_count: number;
  share_count: number;
  reading_time?: number;             // 預估閱讀時間
  related_products?: number[];       // 關聯商品
  related_articles?: number[];       // 相關文章
  allow_comments: boolean;
  is_featured: boolean;              // 是否精選
  is_sticky: boolean;                // 是否置頂
  language: string;                  // 語言代碼
  translated_versions?: {            // 多語言版本
    [language: string]: number;
  };
  custom_fields?: {                  // 自定義欄位
    [key: string]: any;
  };
  created_at: Date;
  updated_at: Date;
}

enum ArticleStatus {
  DRAFT = 'draft',                   // 草稿
  REVIEW = 'review',                 // 待審核
  PUBLISHED = 'published',           // 已發布
  SCHEDULED = 'scheduled',           // 定時發布
  ARCHIVED = 'archived',             // 已歸檔
  PRIVATE = 'private',               // 私密
  TRASH = 'trash'                    // 回收站
}
```

#### 1.2 分類管理系統
```typescript
interface ArticleCategory {
  id: number;
  name: string;
  slug: string;
  description?: string;
  parent_id?: number;                // 支援多層分類
  image?: string;                    // 分類圖片
  seo_title?: string;
  seo_description?: string;
  sort_order: number;
  is_active: boolean;
  article_count: number;             // 文章數量
  language: string;
  translated_versions?: {
    [language: string]: number;
  };
  created_at: Date;
  updated_at: Date;
}
```

### 2. 頁面建構器 (Page Builder)
#### 2.1 區塊組件系統
```typescript
enum BlockType {
  // 基礎組件
  TEXT = 'text',                     // 文本區塊
  IMAGE = 'image',                   // 圖片區塊
  VIDEO = 'video',                   // 影片區塊
  GALLERY = 'gallery',               // 圖片集
  
  // 佈局組件
  HERO_BANNER = 'hero_banner',       // 主視覺橫幅
  SECTION = 'section',               // 區段容器
  COLUMNS = 'columns',               // 多欄佈局
  SPACER = 'spacer',                 // 間距
  
  // 電商組件
  PRODUCT_SHOWCASE = 'product_showcase',    // 商品展示
  PRODUCT_GRID = 'product_grid',           // 商品網格
  PRODUCT_CAROUSEL = 'product_carousel',   // 商品輪播
  CATEGORY_GRID = 'category_grid',         // 分類網格
  BRAND_SHOWCASE = 'brand_showcase',       // 品牌展示
  
  // 互動組件
  BUTTON = 'button',                 // 按鈕
  FORM = 'form',                     // 表單
  NEWSLETTER = 'newsletter',         // 訂閱表單
  TESTIMONIAL = 'testimonial',       // 客戶見證
  FAQ = 'faq',                       // 常見問題
  REVIEW_SLIDER = 'review_slider',   // 評價滑動區
  
  // 行銷組件
  PROMOTION_BANNER = 'promotion_banner',   // 促銷橫幅
  COUNTDOWN_TIMER = 'countdown_timer',     // 倒數計時器
  SOCIAL_PROOF = 'social_proof',           // 社群證明
  POP_UP = 'pop_up',                      // 彈出視窗
  
  // 資訊組件
  STORE_LOCATOR = 'store_locator',   // 門市查詢
  CONTACT_INFO = 'contact_info',     // 聯絡資訊
  SOCIAL_LINKS = 'social_links',     // 社群連結
  BREADCRUMB = 'breadcrumb',         // 麵包屑
  
  // 美妝專用組件
  SKIN_TONE_SELECTOR = 'skin_tone_selector',     // 膚色選擇器
  MAKEUP_TUTORIAL = 'makeup_tutorial',           // 彩妝教學
  INGREDIENT_INFO = 'ingredient_info',           // 成分說明
  VIRTUAL_TRYON = 'virtual_tryon',              // 虛擬試妝
  BEAUTY_QUIZ = 'beauty_quiz'                   // 美妝測驗
}

interface PageBlock {
  id: number;
  type: BlockType;
  name: string;                      // 區塊名稱
  settings: {                        // 區塊設定
    [key: string]: any;
  };
  content?: {                        // 區塊內容
    [key: string]: any;
  };
  styles?: {                         // 樣式設定
    [key: string]: any;
  };
  sort_order: number;
  is_active: boolean;
  visibility_rules?: {               // 顯示規則
    devices?: ('desktop' | 'tablet' | 'mobile')[];
    user_roles?: string[];
    date_range?: {
      start_date: Date;
      end_date: Date;
    };
  };
  created_at: Date;
  updated_at: Date;
}
```

#### 2.2 頁面管理系統
```typescript
interface Page {
  id: number;
  title: string;
  slug: string;
  template: PageTemplate;
  blocks: PageBlock[];               // 頁面區塊組合
  status: PageStatus;
  seo_title?: string;
  seo_description?: string;
  seo_keywords?: string[];
  open_graph?: {                     // Open Graph 設定
    title?: string;
    description?: string;
    image?: string;
    type?: string;
  };
  canonical_url?: string;
  robots_meta?: string;              // robots meta 標籤
  custom_css?: string;               // 自定義CSS
  custom_js?: string;                // 自定義JavaScript
  access_level: AccessLevel;         // 存取權限
  password_protected: boolean;       // 密碼保護
  scheduled_publish?: Date;          // 定時發布
  language: string;
  translated_versions?: {
    [language: string]: number;
  };
  analytics_code?: string;           // 分析代碼
  created_by: number;
  created_at: Date;
  updated_at: Date;
}

enum PageTemplate {
  DEFAULT = 'default',               // 預設模板
  LANDING = 'landing',               // 著陸頁
  PRODUCT = 'product',               // 商品頁
  CATEGORY = 'category',             // 分類頁
  BLOG = 'blog',                     // 部落格
  ABOUT = 'about',                   // 關於我們
  CONTACT = 'contact',               // 聯絡我們
  FAQ = 'faq',                       // 常見問題
  POLICY = 'policy',                 // 政策頁面
  CUSTOM = 'custom'                  // 自定義模板
}

enum PageStatus {
  DRAFT = 'draft',
  PUBLISHED = 'published',
  SCHEDULED = 'scheduled',
  PRIVATE = 'private',
  ARCHIVED = 'archived'
}

enum AccessLevel {
  PUBLIC = 'public',                 // 公開
  MEMBERS = 'members',               // 會員
  VIP = 'vip',                       // VIP會員
  ADMIN = 'admin'                    // 管理員
}
```

### 3. 媒體管理系統
#### 3.1 媒體庫管理
```typescript
interface MediaFile {
  id: number;
  filename: string;
  original_filename: string;
  path: string;                      // 檔案路徑
  url: string;                       // 公開URL
  mime_type: string;
  file_size: number;                 // 檔案大小 (bytes)
  type: MediaType;
  dimensions?: {                     // 圖片/影片尺寸
    width: number;
    height: number;
  };
  duration?: number;                 // 影片長度 (秒)
  alt_text?: string;                 // 替代文字 (無障礙)
  caption?: string;                  // 說明文字
  description?: string;              // 描述
  tags: string[];                    // 標籤
  folder_id?: number;                // 資料夾分類
  uploaded_by: number;               // 上傳者
  usage_count: number;               // 使用次數
  is_public: boolean;                // 是否公開
  copyright_info?: string;           // 版權資訊
  source?: string;                   // 來源
  metadata?: {                       // EXIF等詳細資訊
    [key: string]: any;
  };
  thumbnails?: {                     // 縮圖版本
    small: string;
    medium: string;
    large: string;
  };
  created_at: Date;
  updated_at: Date;
}

enum MediaType {
  IMAGE = 'image',
  VIDEO = 'video',
  AUDIO = 'audio',
  DOCUMENT = 'document',
  ARCHIVE = 'archive',
  OTHER = 'other'
}

interface MediaFolder {
  id: number;
  name: string;
  parent_id?: number;                // 支援巢狀資料夾
  description?: string;
  access_level: AccessLevel;
  file_count: number;
  total_size: number;                // 資料夾總大小
  created_at: Date;
  updated_at: Date;
}
```

### 4. SEO管理系統
#### 4.1 SEO設定與優化
```typescript
interface SEOSettings {
  id: number;
  page_type: string;                 // 頁面類型
  page_id: number;                   // 頁面ID
  title_template?: string;           // 標題模板
  description_template?: string;     // 描述模板
  keywords: string[];
  canonical_url?: string;
  og_title?: string;                 // Open Graph
  og_description?: string;
  og_image?: string;
  og_type?: string;
  twitter_card?: string;             // Twitter Card
  twitter_title?: string;
  twitter_description?: string;
  twitter_image?: string;
  robots_meta?: string;              // robots 指令
  structured_data?: {                // 結構化資料
    [key: string]: any;
  };
  hreflang_links?: {                 // 多語言連結
    [language: string]: string;
  };
  priority: number;                  // Sitemap 優先級
  change_frequency: string;          // 更新頻率
  last_modified: Date;
  created_at: Date;
  updated_at: Date;
}

interface SEOAnalysis {
  id: number;
  page_url: string;
  title_length: number;
  description_length: number;
  keywords_density: {
    [keyword: string]: number;
  };
  heading_structure: {
    h1: number;
    h2: number;
    h3: number;
    h4: number;
    h5: number;
    h6: number;
  };
  internal_links: number;
  external_links: number;
  images_without_alt: number;
  page_load_time: number;
  mobile_friendly: boolean;
  score: number;                     // SEO評分 (0-100)
  recommendations: string[];         // 優化建議
  analyzed_at: Date;
}
```

### 5. 多語言管理系統
#### 5.1 語言與翻譯管理
```typescript
interface Language {
  id: number;
  code: string;                      // 語言代碼 (zh-TW, en-US)
  name: string;                      // 語言名稱
  native_name: string;               // 原生名稱
  flag_icon?: string;                // 國旗圖示
  is_default: boolean;               // 是否為預設語言
  is_active: boolean;                // 是否啟用
  rtl: boolean;                      // 是否為右到左文字
  date_format: string;               // 日期格式
  number_format: {                   // 數字格式
    decimal_separator: string;
    thousands_separator: string;
  };
  currency_symbol: string;           // 貨幣符號
  sort_order: number;
  created_at: Date;
  updated_at: Date;
}

interface Translation {
  id: number;
  source_type: string;               // 來源類型 (article, page, product等)
  source_id: number;                 // 來源ID
  source_language: string;           // 原始語言
  target_language: string;           // 目標語言
  translated_content: {              // 翻譯內容
    [field: string]: string;
  };
  translation_status: TranslationStatus;
  translator_id?: number;            // 翻譯者
  reviewed_by?: number;              // 審核者
  translation_method: TranslationMethod;
  quality_score?: number;            // 翻譯品質評分
  notes?: string;                    // 翻譯備註
  created_at: Date;
  updated_at: Date;
}

enum TranslationStatus {
  PENDING = 'pending',               // 待翻譯
  IN_PROGRESS = 'in_progress',       // 翻譯中
  COMPLETED = 'completed',           // 已完成
  REVIEWED = 'reviewed',             // 已審核
  REJECTED = 'rejected'              // 已拒絕
}

enum TranslationMethod {
  MANUAL = 'manual',                 // 手動翻譯
  AUTOMATIC = 'automatic',           // 自動翻譯
  HYBRID = 'hybrid'                  // 混合模式
}
```

### 6. 版本控制系統
#### 6.1 內容版本管理
```typescript
interface ContentVersion {
  id: number;
  content_type: string;              // 內容類型
  content_id: number;                // 內容ID
  version_number: string;            // 版本號
  content_data: {                    // 版本內容
    [field: string]: any;
  };
  changes_summary: string;           // 變更摘要
  created_by: number;                // 版本建立者
  is_published: boolean;             // 是否為發布版本
  publish_notes?: string;            // 發布說明
  created_at: Date;
}

interface ContentHistory {
  id: number;
  content_type: string;
  content_id: number;
  action: ContentAction;
  field_changes: {                   // 欄位變更記錄
    field: string;
    old_value: any;
    new_value: any;
  }[];
  user_id: number;
  user_agent?: string;               // 瀏覽器資訊
  ip_address?: string;               // IP位址
  notes?: string;
  created_at: Date;
}

enum ContentAction {
  CREATE = 'create',
  UPDATE = 'update',
  DELETE = 'delete',
  PUBLISH = 'publish',
  UNPUBLISH = 'unpublish',
  ARCHIVE = 'archive',
  RESTORE = 'restore'
}
```

## API 設計規格

### 1. 文章管理 API
```typescript
// 文章列表
GET /api/admin/content/articles
Query: {
  page?: number;
  limit?: number;
  type?: ArticleType;
  status?: ArticleStatus;
  category?: number;
  author?: number;
  language?: string;
  search?: string;
  sort?: string;
  order?: 'asc' | 'desc';
}

// 建立文章
POST /api/admin/content/articles
Body: Omit<Article, 'id' | 'created_at' | 'updated_at' | 'view_count' | 'like_count' | 'share_count'>

// 取得文章詳情
GET /api/admin/content/articles/{id}

// 更新文章
PUT /api/admin/content/articles/{id}
Body: Partial<Article>

// 刪除文章
DELETE /api/admin/content/articles/{id}

// 批次操作
POST /api/admin/content/articles/batch
Body: {
  ids: number[];
  action: 'publish' | 'unpublish' | 'delete' | 'archive';
  data?: any;
}

// 複製文章
POST /api/admin/content/articles/{id}/duplicate
Body: {
  title?: string;
  language?: string;
}

// 定時發布
POST /api/admin/content/articles/{id}/schedule
Body: {
  publish_at: Date;
}
```

### 2. 頁面建構器 API
```typescript
// 頁面列表
GET /api/admin/content/pages
Query: {
  template?: PageTemplate;
  status?: PageStatus;
  language?: string;
}

// 建立頁面
POST /api/admin/content/pages
Body: Omit<Page, 'id' | 'created_at' | 'updated_at'>

// 更新頁面區塊
PUT /api/admin/content/pages/{id}/blocks
Body: {
  blocks: PageBlock[];
}

// 預覽頁面
POST /api/admin/content/pages/{id}/preview
Response: {
  preview_url: string;
  expires_at: Date;
}

// 區塊模板管理
GET /api/admin/content/block-templates
POST /api/admin/content/block-templates
PUT /api/admin/content/block-templates/{id}
DELETE /api/admin/content/block-templates/{id}
```

### 3. 媒體管理 API
```typescript
// 上傳媒體檔案
POST /api/admin/content/media/upload
Body: FormData {
  file: File;
  folder_id?: number;
  alt_text?: string;
  tags?: string[];
}

// 媒體庫列表
GET /api/admin/content/media
Query: {
  type?: MediaType;
  folder?: number;
  tags?: string[];
  search?: string;
  sort?: 'name' | 'date' | 'size' | 'type';
}

// 建立資料夾
POST /api/admin/content/media/folders
Body: {
  name: string;
  parent_id?: number;
  description?: string;
}

// 批次處理
POST /api/admin/content/media/batch
Body: {
  ids: number[];
  action: 'delete' | 'move' | 'tag';
  data?: any;
}

// 圖片編輯
POST /api/admin/content/media/{id}/edit
Body: {
  operations: Array<{
    type: 'resize' | 'crop' | 'rotate' | 'filter';
    params: any;
  }>;
}
```

### 4. SEO管理 API
```typescript
// SEO分析
POST /api/admin/content/seo/analyze
Body: {
  url: string;
  content?: string;
}

// SEO設定
GET /api/admin/content/seo/settings
PUT /api/admin/content/seo/settings
Body: Partial<SEOSettings>

// Sitemap生成
POST /api/admin/content/seo/sitemap/generate
GET /api/admin/content/seo/sitemap/download

// 結構化資料測試
POST /api/admin/content/seo/structured-data/test
Body: {
  data: any;
}
```

## 資料庫設計

### 1. 核心資料表
```sql
-- 文章主表
CREATE TABLE articles (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    title VARCHAR(255) NOT NULL,
    slug VARCHAR(255) UNIQUE NOT NULL,
    content LONGTEXT,
    excerpt TEXT,
    type ENUM(...) DEFAULT 'blog_post',
    status ENUM(...) DEFAULT 'draft',
    featured_image VARCHAR(500),
    gallery_images JSON,
    author_id BIGINT,
    category_id BIGINT,
    tags JSON,
    seo_title VARCHAR(255),
    seo_description TEXT,
    seo_keywords JSON,
    published_at TIMESTAMP NULL,
    scheduled_at TIMESTAMP NULL,
    view_count INT DEFAULT 0,
    like_count INT DEFAULT 0,
    share_count INT DEFAULT 0,
    reading_time INT,
    related_products JSON,
    related_articles JSON,
    allow_comments BOOLEAN DEFAULT true,
    is_featured BOOLEAN DEFAULT false,
    is_sticky BOOLEAN DEFAULT false,
    language VARCHAR(10) DEFAULT 'zh-TW',
    translated_versions JSON,
    custom_fields JSON,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    
    INDEX idx_type_status (type, status),
    INDEX idx_category_published (category_id, published_at),
    INDEX idx_author_created (author_id, created_at),
    INDEX idx_language (language),
    INDEX idx_featured_sticky (is_featured, is_sticky),
    FULLTEXT idx_search (title, content, excerpt)
);

-- 文章分類表
CREATE TABLE article_categories (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(255) NOT NULL,
    slug VARCHAR(255) UNIQUE NOT NULL,
    description TEXT,
    parent_id BIGINT NULL,
    image VARCHAR(500),
    seo_title VARCHAR(255),
    seo_description TEXT,
    sort_order INT DEFAULT 0,
    is_active BOOLEAN DEFAULT true,
    article_count INT DEFAULT 0,
    language VARCHAR(10) DEFAULT 'zh-TW',
    translated_versions JSON,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    
    INDEX idx_parent_sort (parent_id, sort_order),
    INDEX idx_active_language (is_active, language)
);

-- 頁面表
CREATE TABLE pages (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    title VARCHAR(255) NOT NULL,
    slug VARCHAR(255) UNIQUE NOT NULL,
    template ENUM(...) DEFAULT 'default',
    blocks JSON,
    status ENUM(...) DEFAULT 'draft',
    seo_title VARCHAR(255),
    seo_description TEXT,
    seo_keywords JSON,
    open_graph JSON,
    canonical_url VARCHAR(500),
    robots_meta VARCHAR(255),
    custom_css LONGTEXT,
    custom_js LONGTEXT,
    access_level ENUM(...) DEFAULT 'public',
    password_protected BOOLEAN DEFAULT false,
    scheduled_publish TIMESTAMP NULL,
    language VARCHAR(10) DEFAULT 'zh-TW',
    translated_versions JSON,
    analytics_code TEXT,
    created_by BIGINT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    
    INDEX idx_status_published (status, scheduled_publish),
    INDEX idx_template_language (template, language),
    INDEX idx_access_level (access_level)
);

-- 媒體檔案表
CREATE TABLE media_files (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    filename VARCHAR(255) NOT NULL,
    original_filename VARCHAR(255) NOT NULL,
    path VARCHAR(1000) NOT NULL,
    url VARCHAR(1000) NOT NULL,
    mime_type VARCHAR(100) NOT NULL,
    file_size BIGINT NOT NULL,
    type ENUM(...) NOT NULL,
    dimensions JSON,
    duration INT,
    alt_text VARCHAR(500),
    caption TEXT,
    description TEXT,
    tags JSON,
    folder_id BIGINT,
    uploaded_by BIGINT NOT NULL,
    usage_count INT DEFAULT 0,
    is_public BOOLEAN DEFAULT true,
    copyright_info TEXT,
    source VARCHAR(255),
    metadata JSON,
    thumbnails JSON,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    
    INDEX idx_type_folder (type, folder_id),
    INDEX idx_uploader_date (uploaded_by, created_at),
    INDEX idx_public_type (is_public, type),
    FULLTEXT idx_search (original_filename, alt_text, caption, description)
);

-- SEO設定表
CREATE TABLE seo_settings (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    page_type VARCHAR(50) NOT NULL,
    page_id BIGINT NOT NULL,
    title_template VARCHAR(255),
    description_template TEXT,
    keywords JSON,
    canonical_url VARCHAR(500),
    og_title VARCHAR(255),
    og_description TEXT,
    og_image VARCHAR(500),
    og_type VARCHAR(50),
    twitter_card VARCHAR(50),
    twitter_title VARCHAR(255),
    twitter_description TEXT,
    twitter_image VARCHAR(500),
    robots_meta VARCHAR(255),
    structured_data JSON,
    hreflang_links JSON,
    priority DECIMAL(2,1) DEFAULT 0.5,
    change_frequency VARCHAR(20) DEFAULT 'weekly',
    last_modified TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    
    UNIQUE KEY idx_page_unique (page_type, page_id),
    INDEX idx_priority_frequency (priority, change_frequency)
);

-- 內容版本表
CREATE TABLE content_versions (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    content_type VARCHAR(50) NOT NULL,
    content_id BIGINT NOT NULL,
    version_number VARCHAR(20) NOT NULL,
    content_data JSON NOT NULL,
    changes_summary TEXT,
    created_by BIGINT NOT NULL,
    is_published BOOLEAN DEFAULT false,
    publish_notes TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    
    INDEX idx_content_version (content_type, content_id, version_number),
    INDEX idx_published (is_published, created_at)
);
```

## 整合功能

### 1. 與商品系統整合
- 文章關聯商品功能
- 商品評測文章自動生成
- 商品成分說明頁面
- 商品使用教學內容

### 2. 與行銷系統整合
- 促銷活動內容管理
- EDM模板管理
- 社群媒體內容排程
- 優惠券著陸頁生成

### 3. 與用戶系統整合
- 用戶生成內容 (UGC)
- 會員專屬內容
- 個人化內容推薦
- 用戶行為分析

### 4. 與通知系統整合
- 內容發布通知
- 定時發布提醒
- 內容審核通知
- SEO優化提醒

## 效能與快取策略

### 1. 快取策略
- Redis快取熱門內容
- CDN靜態資源加速
- 頁面片段快取
- 搜尋結果快取

### 2. 效能優化
- 圖片自動優化與壓縮
- 懶載入 (Lazy Loading)
- 內容預載入
- 資料庫查詢優化

### 3. 監控與分析
- 內容效能監控
- 用戶閱讀行為分析
- SEO效果追蹤
- A/B測試支援

## 安全性設計

### 1. 內容安全
- XSS防護
- CSRF保護
- 內容過濾與清理
- 惡意檔案上傳防護

### 2. 存取控制
- 角色權限管理
- 內容審核流程
- 敏感內容保護
- API存取限制

### 3. 資料保護
- 內容備份機制
- 版本控制
- 資料加密
- 存取日誌記錄

這個內容管理系統提供了完整的CMS功能，支援多語言、SEO優化、版本控制等進階功能，可以滿足美妝電商的各種內容管理需求。